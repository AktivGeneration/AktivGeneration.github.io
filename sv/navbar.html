<nav class="navbar">
    <div class="max-width">
        <div class="logo">
            <a href="#hem">
                <img src="../images/logo.png" id="logo" alt="Aktiv Generation Logo">
            </a>
        </div>
        <div class="menu-btn">
            <i class="fas fa-bars"></i>
        </div>
        <ul class="menu">
            <li><a href="#hem" class="menu-btn">Hem</a></li>
            <li><a href="#om-oss" class="menu-btn">Om oss</a></li>
            <li><a href="#vad-vi-gor" class="menu-btn">Vad vi gör</a></li>
            <li><a href="#aktiviteter" class="menu-btn">Press</a></li>
            <li><a href="aktiviteter.html" class="menu-btn">Aktiviteter</a></li>
            <li><a href="#bildgalleri" class="menu-btn">Bildgalleri</a></li>
            <li><a href="#kontakt" class="menu-btn">Kontakt</a></li>

            <!-- Desktop: keep the original language dropdown -->
            <li class="language-selector">
                <a href="#" class="menu-btn">
                    <i class="fas fa-globe"></i> Språk
                    <i class="fas fa-chevron-down"></i>
                </a>
                <ul class="language-dropdown">
                    <li><a href="../sv/index.html" data-lang="sv">Svenska</a></li>
                    <li><a href="../tr/index.html" data-lang="tr">Türkçe</a></li>
                    <li><a href="../en/index.html" data-lang="en">English</a></li>
                    <li><a href="../ar/index.html" data-lang="ar">العربية</a></li>
                </ul>
            </li>

            <!-- MOBILE ONLY: each language becomes a top-level menu item -->
            <li class="mobile-language"><a href="../sv/index.html" data-lang="sv">Svenska</a></li>
            <li class="mobile-language"><a href="../tr/index.html" data-lang="tr">Türkçe</a></li>
            <li class="mobile-language"><a href="../en/index.html" data-lang="en">English</a></li>
            <li class="mobile-language"><a href="../ar/index.html" data-lang="ar">العربية</a></li>

            <li><a href="https://forms.gle/sfEatWLa9RC6eEE67" id="outbound-link" class="menu-btn" target="_blank"
                    rel="noopener noreferrer">Bli medlem</a></li>
            <li>
                <button id="themeToggle" class="theme-toggle" aria-label="Toggle night mode">
                    <i class="fas fa-moon"></i>
                </button>
            </li>
        </ul>
    </div>
</nav>

<!-- Minimal JS for hamburger menu -->
<script>
    const menuBtn = document.querySelector('.menu-btn i');
    const menu = document.querySelector('.menu');

    menuBtn.addEventListener('click', () => {
        menu.classList.toggle('active');
    });

    // Close menu when any link inside is clicked
    document.querySelectorAll('.menu li a').forEach(link => {
        link.addEventListener('click', () => {
            menu.classList.remove('active');
        });
    });
</script>

<!-- CSS: Desktop dropdown, mobile language links -->
<style>
/* Base menu */
.navbar .max-width .menu {
    display: none;
    flex-direction: column;
    gap: 10px;
}

/* Show when active */
.navbar .max-width .menu.active {
    display: flex;
}

/* Prevent wrapping */
.navbar .max-width .menu li a {
    white-space: nowrap;
}

/* Hide mobile-language by default */
.navbar .max-width .menu > .mobile-language {
    display: none !important;
}

/* Desktop layout */
@media (min-width: 768px) {
    .navbar .max-width .menu {
        display: flex !important;
        flex-direction: row;
        gap: 20px;
        align-items: center;
    }

    .navbar .max-width .menu li a {
        white-space: nowrap;
    }

    /* Show dropdown, hide mobile-language */
    .navbar .max-width .menu > .language-selector {
        display: block !important;
        position: relative;
    }
    .navbar .max-width .menu > .language-selector .language-dropdown {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background: white;
        padding: 8px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.08);
        z-index: 40;
    }
    .navbar .max-width .menu > .language-selector:hover .language-dropdown {
        display: block;
    }

    .navbar .max-width .menu > .mobile-language {
        display: none !important;
    }
}

/* Mobile layout */
@media (max-width: 767px) {
    .navbar .max-width .menu {
        width: 100%;
    }

    /* Hide desktop dropdown */
    .navbar .max-width .menu > .language-selector {
        display: none !important;
    }

    /* Show each language in hamburger */
    .navbar .max-width .menu > .mobile-language {
        display: list-item !important;
    }
}

/* Safety */
.navbar .max-width .menu > li {
    display: list-item;
}
</style>
